const TYPEWRITER_MODE_DEFAULT=0,TYPEWRITER_MODE_CORRECTION=1,TYPEWRITER_MODE_ARRAY=2,TYPEWRITER_MODE_ARRAY_CORRECTION=3;!function(){var t=function(o,s){function i(){h.cursor.classList.contains(h.options.cursor.no_blink_class)||h.cursor.classList.add(h.options.cursor.no_blink_class)}function n(){h.cursor.classList.contains(h.options.cursor.no_blink_class)&&h.cursor.classList.remove(h.options.cursor.no_blink_class)}function e(t,o){"number"==typeof t&&(o=t,t=void 0);var s=void 0!==t&&"function"==typeof t?t:u,i=void 0!==o&&"number"==typeof o?o:h.options.callback_delay;window.setTimeout(function(){void 0!==s&&"function"==typeof s&&(s(h),s==u&&(u=void 0))},1e3*i)}function r(t,o){if(t=void 0===t||"string"!=typeof t?"Invalid String":t,t.length>0){i();var s=document.createElement(h.options.letters.tag);s.classList.add(h.options.letters["class"]),s.innerHTML=" "==t[0]?"&nbsp;":t[0],s.addEventListener("animationend",function(){r(t.slice(1,t.length),o),this.removeEventListener("animationend",arguments.callee)}),h.parent.insertBefore(s,h.cursor)}else n(),e(o)}function c(){d instanceof Array&&(h.options.mode==TYPEWRITER_MODE_ARRAY||h.options.mode==TYPEWRITER_MODE_CORRECTION)&&d.length>0&&(d[0]instanceof Array?a(d[0],function(){d=d.slice(1,d.length),d.length>1&&h.erase(function(){c()})}):r(d[0],function(){d=d.slice(1,d.length),d.length>1&&h.erase(function(){c()})}))}function a(t,o){void 0===t&&(t=d),t instanceof Array&&h.options.mode!=TYPEWRITER_MODE_DEFAULT&&(2!=t.length?r(void 0===t[0]?"I don't know what to type":t[0]):r(t[0],function(){for(var s=t[0].length<=t[1].length?t[0].length:t[1].length,i=s,n=0;s>n;n++)t[0][n]!=t[1][n]&&(i=n,n=s);l(i,function(){r(t[1].replace(t[0].slice(0,i),""),function(){void 0!==o&&"function"==typeof o&&o()})})}))}function l(t,o){h.parent.childNodes.length-1>t?h.backspace(function(){l(t,o)}):void 0!==o&&o()}function p(){switch(h.options.mode){case TYPEWRITER_MODE_DEFAULT:r(d);break;case TYPEWRITER_MODE_CORRECTION:a();break;case TYPEWRITER_MODE_ARRAY:case TYPEWRITER_MODE_ARRAY_CORRECTION:c()}}if(this===HTMLElement)return new t(o,s);var h=this.parent=this;this.cursor=void 0,this.options=void 0;var d=void 0===o?"I have no clue what to type":o,u=void 0;return this.setOptions=function(t){return this.options=void 0===t||"object"!=typeof t?{}:t,(void 0===this.options.mode||"number"!=typeof this.options.mode||this.options.mode>3||this.options.mode<0)&&(this.options.mode=TYPEWRITER_MODE_DEFAULT),this.options.mode!=TYPEWRITER_MODE_ARRAY&&this.options.mode!=TYPEWRITER_MODE_CORRECTION||d instanceof Array||(this.options.mode=TYPEWRITER_MODE_DEFAULT),this.options.mode==TYPEWRITER_MODE_DEFAULT&&d instanceof Array&&(0==d.length&&(d[0]="I have no clue what to type"),d=d[0]),(void 0===this.options.start_delay||"number"!=typeof this.options.start_delay)&&(this.options.start_delay=2),(void 0===this.options.callback_delay||"number"!=typeof this.options.callback_delay)&&(this.options.callback_delay=1),(void 0===this.options.letters||"object"!=typeof this.options.letters)&&(this.options.letters={}),(void 0===this.options.letters.tag||"string"!=typeof this.options.letters.tag)&&(this.options.letters.tag="span"),(void 0===this.options.letters["class"]||"string"!=typeof this.options.letters["class"])&&(this.options.letters["class"]="typewriter-letter"),(void 0===this.options.letters.remove_class||"string"!=typeof this.options.letters.remove_class)&&(this.options.letters.remove_class="typewriter-letter-remove"),(void 0===this.options.cursor||"object"!=typeof this.options.cursor)&&(this.options.cursor={}),(void 0===this.options.cursor.tag||"string"!=typeof this.options.cursor.tag)&&(this.options.cursor.tag="span"),(void 0===this.options.cursor["class"]||"string"!=typeof this.options.cursor["class"])&&(this.options.cursor["class"]="typewriter-cursor"),(void 0===this.options.cursor.no_blink_class||"string"!=typeof this.options.cursor.no_blink_class)&&(this.options.cursor.no_blink_class="typewriter-cursor-noblink"),void 0===this.cursor&&(this.cursor=document.createElement(this.options.cursor.tag),this.cursor.classList.add(this.options.cursor["class"]),this.parent.appendChild(this.cursor)),this},this.setContent=function(t){return d=void 0===t?d:t,d instanceof Array&&this.options.mode!=TYPEWRITER_MODE_ARRAY&&this.options.mode!=TYPEWRITER_MODE_CORRECTION&&(d=void 0==d[0]?"I have no clue what to type":d[0]),this},this.setCallback=function(t){return u=void 0===t||"function"!=typeof t?u:t,this},this.erase=function(t){this.parent.childNodes.length>1?(i(),this.backspace(function(){h.erase(t)})):(n(),void 0!==t&&"function"==typeof t&&e(t,1))},this.backspace=function(t){if(this.parent.childNodes.length>1){var o=this.parent.childNodes.length-2;this.parent.childNodes[o].classList.add(this.options.letters.remove_class),this.parent.childNodes[o].addEventListener("animationend",function(){h.parent.removeChild(h.parent.childNodes[o]),this.removeEventListener("animationend",arguments.callee),void 0!==t&&"function"==typeof t&&e(t,0)})}},this.start=function(t){void 0!==t&&this.setCallback(t),window.setTimeout(function(){p()},1e3*this.options.start_delay)},this.startNoDelay=function(t){void 0!==t&&this.setCallback(t),p()},this.setOptions(s),this};HTMLElement.prototype.typewriter||(HTMLElement.prototype.typewriter=t)}();
