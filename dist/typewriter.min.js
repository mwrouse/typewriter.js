const TYPEWRITER_MODE_DEFAULT=0,TYPEWRITER_MODE_CORRECTION=1,TYPEWRITER_MODE_ARRAY=2;!function(){function t(t,_){return typeof t===_}function _(_,e,n){void 0!==n[_]&&t(n[_],typeof e)||(n[_]=e)}var e=function(_,n,o){return this instanceof HTMLElement?new e(_,n,this):(_=void 0===_?"I have no clue what to type":_,!t(_,"object")||_ instanceof Array||void 0!==n||(n=_),this.__element=o,this.__content=_,this.__cursor=void 0,this.__options=void 0,this.__callback=void 0,void this.setOptions(n))};e.prototype.__cursorNoBlink__=function(){var t=this;t.__cursor.classList.contains(t.__options.cursor.no_blink_class)||t.__cursor.classList.add(t.__options.cursor.no_blink_class)},e.prototype.__cursorBlink__=function(){var t=this;t.__cursor.classList.contains(t.__options.cursor.no_blink_class)&&t.__cursor.classList.remove(t.__options.cursor.no_blink_class)},e.prototype.__performCallback__=function(_,e){var n=this;t(_,"number")&&(e=_,$calllback=void 0);var o=t(_,"function")?_:n.__callback,r=t(e,"number")?e:n.__options.callback_delay;t(o,"function")&&window.setTimeout(function(){o(n,n.__element),o===n.__callback&&(n.__callback=void 0)},1e3*r)},e.prototype.__modeStart__=function(){var t=this;switch(t.__options.mode){case TYPEWRITER_MODE_DEFAULT:t.__typeString__(t.__content);break;case TYPEWRITER_MODE_CORRECTION:t.__typeCorrection__();break;case TYPEWRITER_MODE_ARRAY:t.__typeArray__()}},e.prototype.__typeString__=function(_,e){var n=this;if(_=t(_,"string")?_:"Invalid String",_.length>0){n.__cursorNoBlink__();var o=document.createElement(n.__options.letters.tag||"span");o.classList.add(n.__options.letters["class"]||"typewriter-letter"),o.innerHTML=" "==_[0]?"&nbsp;":_[0],o.addEventListener("animationend",function(){n.__typeString__(_.slice(1,_.length),e),this.removeEventListener("animationend",arguments.callee)}),n.__element.insertBefore(o,n.__cursor)}else n.__cursorBlink__(),n.__performCallback__(e)},e.prototype.__typeArray__=function(){var t=this;t.__content instanceof Array&&(t.__options.mode==TYPEWRITER_MODE_ARRAY||t.__options.mode==TYPEWRITER_MODE_CORRECTION)&&t.__content.length>0&&(t.__content[0]instanceof Array?t.__typeCorrection__(t.__content[0],function(){t.__content=t.__content.slice(1,t.__content.length),t.__content.length>=1?t.erase(function(){t.__typeArray__()}):t.__performCallback__()}):t.__typeString__(t.__content[0],function(){t.__content=t.__content.slice(1,t.__content.length),t.__content.length>=1?t.erase(function(){t.__typeArray__()}):t.__performCallback__()}))},e.prototype.__typeCorrection__=function(t,_){var e=this;void 0!==t&&t instanceof Array||(t=e.__content),t instanceof Array&&e.__options.mode!=TYPEWRITER_MODE_DEFAULT&&(2!=t.length?e.__typeString__(t[0]||"I don't know what to type"):e.__typeString__(t[0],function(){for(var n=t[0].length<=t[1].length?t[0].length:t[1].length,o=n,r=0;n>r;r++)t[0][r]!=t[1][r]&&(o=r,r=n);e.__backspaceToLength__(o,function(){e.__typeString__(t[1].replace(t[0].slice(0,o),""),function(){e.__performCallback__(_)})})}))},e.prototype.__backspaceToLength__=function(_,e){var n=this;n.__element.childNodes.length-1>_?n.backspace(function(){n.__backspaceToLength__(_,e)}):t(e,"function")&&n.__performCallback__(e)},e.prototype.setOptions=function(e){var n=this,o=t(e,"object")?e:{};return(!t(o.mode,"number")||o.mode>2||o.mode<0)&&(o.mode=TYPEWRITER_MODE_DEFAULT),o.mode!=TYPEWRITER_MODE_CORRECTION&&o.mode!=TYPEWRITER_MODE_ARRAY||n.__content instanceof Array||(o.mode=TYPEWRITER_MODE_DEFAULT),o.mode==TYPEWRITER_MODE_DEFAULT&&n.__content instanceof Array&&(0==n.__content.length?n.__content="I have no clue what to type":n.__content=n.__content[0]),_("start_delay",2,o),_("callback_delay",1,o),_("letters",{},o),_("tag","span",o.letters),_("class","typewriter-letter",o.letters),_("remove_class","typewriter-letter-remove",o.letters),_("cursor",{},o),_("tag","span",o.cursor),_("class","typewriter-cursor",o.cursor),_("no_blink_class","typewriter-cursor-noblink",o.cursor),void 0===n.__cursor&&(n.__cursor=document.createElement(o.cursor.tag),n.__cursor.classList.add(o.cursor["class"]),n.__element.appendChild(n.__cursor)),n.__options=o,n},e.prototype.setContent=function(t){var _=this;return _.__content=void 0===t?_.__content:t,_.__content instanceof Array&&_.__options.mode!=TYPEWRITER_MODE_ARRAY&&_.__options.mode!=TYPEWRITER_MODE_CORRECTION&&(_.__content=void 0===_.__content[0]?"I have no clue what to type":_.__content[0]),_},e.prototype.setCallback=function(_){var e=this;return t(_,"function")&&(e.__callback=_),e},e.prototype.backspace=function(_){var e=this;if(e.__element.childNodes.length>1){var n=e.__element.childNodes.length-2;e.__element.childNodes[n].addEventListener("animationend",function(){e.__element.removeChild(e.__element.childNodes[n]),this.removeEventListener("animationend",arguments.callee),t(_,"function")&&e.__performCallback__(_,0)}),e.__element.childNodes[n].classList.add(e.__options.letters.remove_class||"typewriter-letter-remove")}},e.prototype.erase=function(_){var e=this;e.__element.childNodes.length>1?(e.__cursorNoBlink__(),e.backspace(function(){e.erase(_)})):(e.__cursorBlink__(),t(_,"function")&&e.__performCallback__(_))},e.prototype.start=function(_){var e=this;t(_,"function")&&e.setCallback(_),window.setTimeout(function(){e.__modeStart__()},1e3*e.__options.start_delay)},e.prototype.startNoDelay=function(_){var e=this;t(_,"function")&&e.setCallback(_),e.__modeStart__()},HTMLElement.prototype.typewriter||(HTMLElement.prototype.typewriter=e)}();
