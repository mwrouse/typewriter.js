const TYPEWRITER_MODE_DEFAULT=0,TYPEWRITER_MODE_CORRECTION=1,TYPEWRITER_MODE_ARRAY=2;!function(){var t=function(_,e,o){return this instanceof HTMLElement?new t(_,e,this):(_=void 0===_?"I have no clue what to type":_,"object"!=typeof _||_ instanceof Array||void 0!==e||(e=_),this.__parent=o,this.__cursor=void 0,this.__options=void 0,this.__content=_,this.__callback=void 0,this.element=this.elem=this.el=this.__parent,void this.setOptions(e))};t.prototype.__default__=function(t,_,e){(void 0===e[t]||typeof e[t]!=typeof _)&&(e[t]=_)},t.prototype.__cursorNoBlink__=function(){var t=this;t.__cursor.classList.contains(t.__options.cursor.no_blink_class)||t.__cursor.classList.add(t.__options.cursor.no_blink_class)},t.prototype.__cursorBlink__=function(){var t=this;t.__cursor.classList.contains(t.__options.cursor.no_blink_class)&&t.__cursor.classList.remove(t.__options.cursor.no_blink_class)},t.prototype.__performCallback__=function(t,_){var e=this;"number"==typeof t&&(_=t,$calllback=void 0);var o=void 0===t||"function"!=typeof t?e.__callback:t,n=void 0===_||"number"!=typeof _?e.__options.callback_delay:_;void 0!==o&&"function"==typeof o&&window.setTimeout(function(){o(e),o===e.__callback&&(e.__callback=void 0)},1e3*n)},t.prototype.__modeStart__=function(){var t=this;switch(t.__options.mode){case TYPEWRITER_MODE_DEFAULT:t.__typeString__(t.__content);break;case TYPEWRITER_MODE_CORRECTION:t.__typeCorrection__();break;case TYPEWRITER_MODE_ARRAY:t.__typeArray__()}},t.prototype.__typeString__=function(t,_){var e=this;if(t=void 0===t||"string"!=typeof t?"Invalid String":t,t.length>0){e.__cursorNoBlink__();var o=document.createElement(e.__options.letters.tag||"span");o.classList.add(e.__options.letters["class"]||"typewriter-letter"),o.innerHTML=" "==t[0]?"&nbsp;":t[0],o.addEventListener("animationend",function(){e.__typeString__(t.slice(1,t.length),_),this.removeEventListener("animationend",arguments.callee)}),e.__parent.insertBefore(o,e.__cursor)}else e.__cursorBlink__(),e.__performCallback__(_)},t.prototype.__typeArray__=function(){var t=this;t.__content instanceof Array&&(t.__options.mode==TYPEWRITER_MODE_ARRAY||t.__options.mode==TYPEWRITER_MODE_CORRECTION)&&t.__content.length>0&&(t.__content[0]instanceof Array?t.__typeCorrection__(t.__content[0],function(){t.__content=t.__content.slice(1,t.__content.length),t.__content.length>=1?t.erase(function(){t.__typeArray__()}):t.__performCallback__()}):t.__typeString__(t.__content[0],function(){t.__content=t.__content.slice(1,t.__content.length),t.__content.length>=1?t.erase(function(){t.__typeArray__()}):t.__performCallback__()}))},t.prototype.__typeCorrection__=function(t,_){var e=this;void 0!==t&&t instanceof Array||(t=e.__content),t instanceof Array&&e.__options.mode!=TYPEWRITER_MODE_DEFAULT&&(2!=t.length?e.__typeString__(t[0]||"I don't know what to type"):e.__typeString__(t[0],function(){for(var o=t[0].length<=t[1].length?t[0].length:t[1].length,n=o,r=0;o>r;r++)t[0][r]!=t[1][r]&&(n=r,r=o);e.__backspaceToLength__(n,function(){e.__typeString__(t[1].replace(t[0].slice(0,n),""),function(){e.__performCallback__(_)})})}))},t.prototype.__backspaceToLength__=function(t,_){var e=this;e.__parent.childNodes.length-1>t?e.backspace(function(){e.__backspaceToLength__(t,_)}):void 0!==_&&"function"==typeof _&&e.__performCallback__(_)},t.prototype.setOptions=function(t){var _=this,e=void 0===t||"object"!=typeof t?{}:t;return(void 0===e.mode||"number"!=typeof e.mode||e.mode>2||e.mode<0)&&(e.mode=TYPEWRITER_MODE_DEFAULT),e.mode!=TYPEWRITER_MODE_CORRECTION&&e.mode!=TYPEWRITER_MODE_ARRAY||_.__content instanceof Array||(e.mode=TYPEWRITER_MODE_DEFAULT),e.mode==TYPEWRITER_MODE_DEFAULT&&_.__content instanceof Array&&(0==_.__content.length?_.__content="I have no clue what to type":_.__content=_.__content[0]),_.__default__("start_delay",2,e),_.__default__("callback_delay",1,e),_.__default__("letters",{},e),_.__default__("tag","span",e.letters),_.__default__("class","typewriter-letter",e.letters),_.__default__("remove_class","typewriter-letter-remove",e.letters),_.__default__("cursor",{},e),_.__default__("tag","span",e.cursor),_.__default__("class","typewriter-cursor",e.cursor),_.__default__("no_blink_class","typewriter-cursor-noblink",e.cursor),void 0===_.__cursor&&(_.__cursor=document.createElement(e.cursor.tag),_.__cursor.classList.add(e.cursor["class"]),_.__parent.appendChild(_.__cursor)),_.__options=e,_},t.prototype.setContent=function(t){var _=this;return _.__content=void 0===t?_.__content:t,_.__content instanceof Array&&_.__options.mode!=TYPEWRITER_MODE_ARRAY&&_.__options.mode!=TYPEWRITER_MODE_CORRECTION&&(_.__content=void 0===_.__content[0]?"I have no clue what to type":_.__content[0]),_},t.prototype.setCallback=function(t){var _=this;return void 0!==t&&"function"==typeof t&&(_.__callback=t),_},t.prototype.backspace=function(t){var _=this;if(_.__parent.childNodes.length>1){var e=_.__parent.childNodes.length-2;_.__parent.childNodes[e].addEventListener("animationend",function(){_.__parent.removeChild(_.__parent.childNodes[e]),this.removeEventListener("animationend",arguments.callee),void 0!==t&&"function"==typeof t&&_.__performCallback__(t,0)}),_.__parent.childNodes[e].classList.add(_.__options.letters.remove_class||"typewriter-letter-remove")}},t.prototype.erase=function(t){var _=this;_.__parent.childNodes.length>1?(_.__cursorNoBlink__(),_.backspace(function(){_.erase(t)})):(_.__cursorBlink__(),void 0!==t&&"function"==typeof t&&_.__performCallback__(t))},t.prototype.start=function(t){var _=this;void 0!==t&&"function"==typeof t&&_.setCallback(t),window.setTimeout(function(){_.__modeStart__()},1e3*_.__options.start_delay)},t.prototype.startNoDelay=function(t){var _=this;void 0!==t&&"function"==typeof t&&_.setCallback(t),_.__modeStart__()},HTMLElement.prototype.typewriter||(HTMLElement.prototype.typewriter=t)}();
